{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAeC,SAASC,cAAc,kBACtCC,EAAQF,SAASC,cAAc,SAC/BE,EAAWH,SAASC,cAAc,YAGxCF,EAAaK,iBACX,SACA,EAAAP,EAAAQ,WAAS,KACP,IAAIC,EAAU,CACZC,MAAOL,EAAMM,MACbC,QAASN,EAASK,OAEpBE,aAAaC,QATC,sBASkBC,KAAKC,UAAUP,GAAS,GACvD,MAGL,IAAIQ,EAASF,KAAKG,MAAML,aAAaM,QAbnB,wBAesB,OAApCN,aAAaM,QAfC,wBAgBhBd,EAAMM,MAAQ,GACdL,EAASK,MAAQ,KAEjBN,EAAMM,MAAQM,EAAOP,MACrBJ,EAASK,MAAQM,EAAOL,SAG1BV,EAAaK,iBAAiB,UAAUa,IACtCA,EAAMC,iBACNC,QAAQC,IAAIV,aAAaM,QAzBT,wBA0BhBN,aAAaW,WA1BG,uBA2BhBnB,EAAMM,MAAQ,GACdL,EAASK,MAAQ,EAAE","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst input = document.querySelector('input');\nconst textarea = document.querySelector('textarea');\nconst LOCAL_KEY = 'feedback-form-state';\n\nfeedbackForm.addEventListener(\n  'input',\n  throttle(() => {\n    let storage = {\n      email: input.value,\n      message: textarea.value,\n    };\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(storage));\n  }, 500)\n);\n\nlet parsed = JSON.parse(localStorage.getItem(LOCAL_KEY));\n\nif (localStorage.getItem(LOCAL_KEY) === null) {\n  input.value = '';\n  textarea.value = '';\n} else {\n  input.value = parsed.email;\n  textarea.value = parsed.message;\n}\n\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(localStorage.getItem(LOCAL_KEY));\n  localStorage.removeItem(LOCAL_KEY);\n  input.value = '';\n  textarea.value = '';\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","$945622fd0f572e60$var$input","$945622fd0f572e60$var$textarea","addEventListener","throttle","storage","email","value","message","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$parsed","parse","getItem","event","preventDefault","console","log","removeItem"],"version":3,"file":"03-feedback.d58adeb8.js.map"}